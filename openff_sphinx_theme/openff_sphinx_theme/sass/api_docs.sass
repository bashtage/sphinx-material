// Style rules specific to automatically generated API documentation
.viewcode-block .viewcode-back
    float: right

.viewcode-link, .viewcode-block .viewcode-back
    color: $viewcode-link
    font-weight: bold
    font-size: 0.7rem

dl
    &:not(.docutils)
        @mixin api-colors($color)
            dt
                border: none
                border-color: rgba($color, 1)
                &:not(:target)
                    background: rgba($color, 0.1)
                    border-color: rgba($color, 0.5)
                &:target
                    + dd
                        border-color: rgba($color, 1)
            .property
                color: rgba($color, 1)

        &.module
        &.class,
            @include api-colors($openff-blue)

        &.exception
            @include api-colors($openff-evaluator-orange)

        &.function,
        &.decorator,
        &.method
            @include api-colors($openff-toolkit-blue)

        &.attribute,
        &.data
            @include api-colors($openff-dataset-yellow)

        &.field-list
            @include api-colors(#888)
            // add a bit more breathing room
            > dt
                padding: 0.5rem
                font-weight: 300
            > dd
                padding-left: 1rem
                > dl > dd
                    margin-bottom: 0.3rem
                > ul.simple
                    margin-left: 0.2rem
                    margin-top: 0.3rem
                    margin-bottom: 0.3rem


    &.module,
    &.class,
    &.exception,
    &.function,
    &.decorator,
    &.data,
    &.method,
    &.attribute
        dt
            font-weight: bold
        &:not(.docutils)
            dt
                display: table
                font-size: 90%
                line-height: normal
                position: relative

                // We hack dt:target's margins and padding so that it appears
                // in the right place, so we can't do background and border
                // theming there
                &:not(:target)
                    border-top-style: solid
                    border-top-width: 0.2rem
                    padding: 0.2rem
                    padding-top: 0.6rem
                    margin: 0.4rem 0
                    margin-top: 0.4rem
                    width: 100%
                &:target
                    background-color: unset
                    // Border for the contents of the targeted block
                    + dd
                        border: none
                        border-left-style: solid
                        border-left-width: 0.15rem
                        margin-left: 0px
                        padding-left: 1.875em
                        margin-bottom: 0px
                        padding-bottom: 1rem
                        margin-top: 0.5rem

            dl dt
                min-width: 50%

                // We hack dt:target's margins and padding so that it appears
                // in the right place, so we can't do background and border
                // theming there
                &:not(:target)
                    margin-bottom: 0.4rem
                    border-top: none
                    border-left-style: solid
                    border-left-width: 0.2rem
                    padding: 0.3rem

            .property
                display: inline-block
                padding-right: 0.5rem

            code.descclassname, code.descname
                background-color: transparent
                border: none
                padding: 0
                font-size: 100% !important

            code.descname
                font-weight: bold

        .viewcode-link, .headerlink
            display: inline-block
            float: right
            margin: 0.1rem
            font-size: 0.7rem
        .headerlink
            color: $openff-dataset-yellow
            transform: none
            opacity: 1
            visibility: visible

        .sig-param
            .o
                color: $openff-evaluator-orange
                padding-left: 0.25rem
                padding-right: 0.25rem
            .n
                color: $openff-blue
                font-family: $family-monospace
            .default_value
                color: $openff-toolkit-blue

    .classifier
        font-style: italic
        font-weight: 200

    &.simple dt strong
        font-family: $family-monospace

em.sig-param
    &::before
        content: "\A        "
        white-space: pre
    + .sig-paren::before
        content: "\A"
        white-space: pre
span.optional + .sig-paren::before
    content: "\A"
    white-space: pre

